<!DOCTYPE html>
<html>
	<div  class="content" id="content">
		<div id="factions">
			<div (mouseleave)="hideDetails(expanded1)" (mouseenter)="showDetails(expanded1, 'green')" class="faction" style="background-color: var(--green);">f </div>
			<div (mouseleave)="hideDetails(expanded2)" (mouseenter)="showDetails(expanded2, 'red')" class="faction" style="background-color:  var(--red);">f</div>
			<div (mouseleave)="hideDetails(expanded3)" (mouseenter)="showDetails(expanded3, 'blue')" class="faction" style="background-color: var(--blue);">f</div>
		</div>
		<div #expanded1 class="faction-expanded" id="expanded-1" style="background-color: var(--green);">f </div>
		<div #expanded2 class="faction-expanded" id="expanded-2" style="background-color: var(--red);">f </div>
		<div #expanded3 class="faction-expanded" id="expanded-3" style="background-color: var(--blue);">
			<p style="color:white">why isnt thiasdfasdfs working</p>
		</div>

		<div *ngIf="!show_registration" id="main">
			<h1 style="font-size: 3em;">BrowserGame</h1>
			<div id="side-content">
				<div id="demo-content">
					<h2>
						Survive, endure, adapt and maybe you will someday see yourself rise
						to the top in this vast 4X open space strategy game!					
					</h2>
					<h3>Check out what awaits you!
						<button id="demo-button" routerLink="/registration">Demo</button>
					</h3>
				</div>
				<div id="register-content">
					<h3>
						...or go straight to the action! 
					</h3>
					<button id="registration-button" (click)="showHideRegistration()">Register</button>
				</div>
			</div>
		</div>

		<div *ngIf="show_registration" id="registration">
			<h3 style="color: white; margin-left: 5%;"> Create your account</h3>
		
			<form [formGroup]="registrationForm" (ngSubmit)="registration()">
				<input
				[style]="{'background-color':
											(regForm.name.valid || regForm.name.pristine) ? 'white' : 'rgb(247, 210, 210)'}"
				id="name" name="name" type="text" placeholder="Username"
				formControlName="name">
				<input
					[style]="{'background-color': 
								(regForm.email.valid || regForm.email.pristine) ? 'white' : 'rgb(247, 210, 210)'}"
					id="email" name="email" type="text" placeholder="Email"
					formControlName="email">
					<div [hidden]="regForm.email.valid || regForm.email.pristine" class="alert-error">
						Invalid email!
					</div>
					<svg class="check-mark" xmlns="http://www.w3.org/2000/svg" width="24" height="24"
						viewBox="0 0 24 24">
						<path fill="green"
							d="m10.6 16.2l7.05-7.05l-1.4-1.4l-5.65 5.65l-2.85-2.85l-1.4 1.4l4.25 4.25ZM5 21q-.825 0-1.413-.588T3 19V5q0-.825.588-1.413T5 3h14q.825 0 1.413.588T21 5v14q0 .825-.588 1.413T19 21H5Zm0-2h14V5H5v14ZM5 5v14V5Z" />
					</svg>
				<input 
					[style]="{'background-color':
								(regForm.password.valid || regForm.password.pristine) ? 'white' : 'rgb(247, 210, 210)'}"
					id="logPassword" name="password" type="password" placeholder="Password"
					formControlName="password">
				<br> 
				<button (click)="showHideRegistration()" class="registration-back-button" ></button>
				<button [disabled]="!this.registrationForm.valid" class="registration-confirm-button"
					 type="submit">Register</button>
					
			</form>
		</div>

		<div *ngIf="!show_registration" id="login" >
			<h3 style="color: white; margin-left: 5%;"> Sign in</h3>

			<form [formGroup]="loginForm"  (ngSubmit)="login()">
				<input [style]="{'background-color': 
						(logForm.email.valid || logForm.email.pristine) ? 'white' : 'rgb(247, 210, 210)'}"
					id="login-email" name="login-email" type="text"
					placeholder="Email" formControlName="email">
				
				<input [style]="{'background-color':
						(logForm.password.valid || logForm.password.pristine) ? 'white' : 'rgb(247, 210, 210)'}"
					name="password" type="password" #loginPass
					placeholder="Password" formControlName ="password" >
					<button
						#passBtn class="show-pass-button"
						(click)="showHidePassword(loginPass, passBtn)"
						type="button">Show
					</button>
				<br>
				<div [hidden]="logForm.email.valid || logForm.email.pristine"
					class="alert-error">
					Invalid email!
				</div>
				<button [disabled]="!this.loginForm.valid" 
					class="log-in-button" type="submit">Login</button>
			</form>
		</div>
	</div>
</html>